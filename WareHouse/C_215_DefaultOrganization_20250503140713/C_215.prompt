Read the input string 'S' and the integer 'K' from standard input. Validate the length of 'S' to ensure it is between 1 and 8 characters. Create a function 'generate_permutations(S)' to generate all distinct permutations of the string 'S'. In 'generate_permutations', use a set to store permutations to ensure uniqueness. Sort the set of permutations to arrange them in lexicographical order. Access the 'K-1' index of the sorted list of permutations to retrieve the 'K'-th smallest permutation. Print the result as the output.\n\nThis breakdown ensures that all requirements are met while providing a clear path to implementation.