Read the integer N and the string S from standard input. Initialize a variable 'max_value' to -1 to store the maximum value found in T that is less than or equal to N. Determine the length of the string S and calculate the total number of combinations of '?' in S. Iterate through all possible combinations of replacing '?' with '0' or '1':\n   - For each combination, create a new binary string by replacing '?' in S.\n   - Convert the resulting binary string to a decimal integer. Check if the converted decimal integer is less than or equal to N:\n   - If it is, update 'max_value' if this integer is greater than the current 'max_value'. After evaluating all combinations, check the value of 'max_value':\n   - If 'max_value' remains -1, it means no valid values were found; prepare to print '-1'. If a valid 'max_value' was found, prepare to print that value. Print the result (either 'max_value' or '-1'). Ensure that the function handles edge cases, such as when S contains no '?'. Optimize the process to handle the maximum constraints efficiently, considering the length of S and the size of N.