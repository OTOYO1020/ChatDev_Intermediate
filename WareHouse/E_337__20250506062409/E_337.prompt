Read the integer N from standard input, which represents the number of bottles. Determine the minimum number of friends M needed to identify the spoiled bottle using a strategy (e.g., binary search or systematic testing). For each friend from 1 to M:\n   - Decide how many bottles K_i to serve to the i-th friend.\n   - Select the bottle numbers A_{i, 1}, A_{i, 2}, ..., A_{i, K_i} in ascending order.\n   - Print K_i followed by the bottle numbers. Read the string S of length M from standard input, which indicates whether each friend has an upset stomach (1 for upset, 0 for not). Analyze the results from string S to determine which bottle is spoiled based on the responses. Print the number of the spoiled juice bottle X' determined from the analysis. Ensure that each output ends with a newline and flushes the standard output to avoid TLE. Terminate the program immediately after printing X'. Ensure that the output format strictly follows the requirements to avoid invalid outputs. Handle any potential errors gracefully to prevent runtime issues during execution.