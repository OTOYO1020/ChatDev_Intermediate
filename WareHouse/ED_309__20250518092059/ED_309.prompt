Define the function 'count_insured_people(N: int, M: int, parents: List[int], insurances: List[Tuple[int, int]])' to handle the input parameters where 'N' is the number of people, 'M' is the number of insurance purchases, 'parents' is a list of integers representing the parent of each person, and 'insurances' is a list of tuples containing the person who bought the insurance and the number of generations it covers. Parse the input to extract 'N', 'M', 'parents', and 'insurances' from the input format. Construct a tree structure to represent the family relationships using the 'parents' list. For each insurance in 'insurances', determine the range of descendants covered by that insurance based on the number of generations 'y_i'. Implement a method to traverse the tree and count all descendants for each person who bought insurance, ensuring that each descendant is counted only once. Maintain a set or boolean array to track which individuals are covered by at least one insurance to avoid double counting. Sum the total number of unique individuals covered by any insurance after processing all insurance purchases. Return the total count of insured individuals from the function. Ensure that the solution is efficient and can handle the upper limits of the constraints provided (up to 300,000 for N and M). Output the result in the specified format, which is a single integer representing the number of people covered by at least one insurance.